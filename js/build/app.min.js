function updateHelpers(){axisHelper.visible=sceneSettings.enableAxisHelper,gridHelper.visible=sceneSettings.enableGridHelper}function initGui(){gui=new dat.GUI,gui.width=300,gui_display=gui.addFolder("Display"),gui_display.autoListen=!1,gui_settings=gui.addFolder("Settings"),gui_settings.addColor(sceneSettings,"bgColor").name("Background"),gui_settings.add(camera,"fov",25,120,1).name("FOV"),gui_display.open(),gui_settings.open(),gui_settings.__controllers.forEach(function(a){a.onChange(updateSettings)})}function updateSettings(){camera.updateProjectionMatrix(),renderer.setClearColor(sceneSettings.bgColor,1)}function updateGuiDisplay(){gui_display.__controllers.forEach(function(a){a.updateDisplay()})}function main(){initGui()}function update(){}function run(){requestAnimationFrame(run),update(),renderer.clear(),renderer.render(scene,camera),stats.update()}function onWindowResize(){WIDTH=window.innerWidth,HEIGHT=window.innerHeight,pixelRatio=window.devicePixelRatio||1,screenRatio=WIDTH/HEIGHT,camera.aspect=screenRatio,camera.updateProjectionMatrix(),renderer.setSize(WIDTH,HEIGHT),renderer.setPixelRatio(pixelRatio)}var loadingManager=new THREE.LoadingManager;loadingManager.onLoad=function(){main(),run()},loadingManager.onProgress=function(a,b,c){console.log(b+"/"+c,a)};var shaderLoader=new THREE.XHRLoader(loadingManager);shaderLoader.setResponseType("text"),shaderLoader.showStatus=!0,shaderLoader.loadMultiple=function(a,b){Object.keys(b).forEach(function(c){shaderLoader.load(b[c],function(b){a[c]=b})})};var SHADER_CONTAINER={};shaderLoader.loadMultiple(SHADER_CONTAINER,{vertA:"shaders/shaderA.vert",fragA:"shaders/shaderA.frag",vertB:"shaders/shaderB.vert",fragB:"shaders/shaderB.frag"}),Detector.webgl||Detector.addGetWebGLMessage();var container,stats,scene,light,camera,cameraCtrl,renderer,WIDTH=window.innerWidth,HEIGHT=window.innerHeight,pixelRatio=window.devicePixelRatio||1,screenRatio=WIDTH/HEIGHT,sceneSettings={bgColor:1118483,enableGridHelper:!0,enableAxisHelper:!0};container=document.getElementById("canvas-container"),scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(75,screenRatio,10,1e5),cameraCtrl=new THREE.OrbitControls(camera,container),cameraCtrl.object.position.z=600,cameraCtrl.update(),renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),renderer.setSize(WIDTH,HEIGHT),renderer.setPixelRatio(pixelRatio),renderer.setClearColor(sceneSettings.bgColor,1),renderer.autoClear=!1,container.appendChild(renderer.domElement),stats=new Stats,container.appendChild(stats.domElement);var gridHelper=new THREE.GridHelper(600,50);gridHelper.setColors(48127,16777215),gridHelper.material.opacity=.1,gridHelper.material.transparent=!0,gridHelper.position.y=-300,scene.add(gridHelper);var axisHelper=new THREE.AxisHelper(50);scene.add(axisHelper),updateHelpers(),light=new THREE.DirectionalLight(16777215,.8),light.position.set(100,230,-100),scene.add(light),light=new THREE.HemisphereLight(65535,2697566,1),light.position.set(370,200,20),scene.add(light),light=new THREE.AmbientLight(1118481),scene.add(light);var gui,gui_display,gui_settings;window.addEventListener("keypress",function(a){var b=a.keyCode;switch(b){case 65:case 97:sceneSettings.enableGridHelper=!sceneSettings.enableGridHelper,updateHelpers();break;case 83:case 115:sceneSettings.enableAxisHelper=!sceneSettings.enableAxisHelper,updateHelpers()}});var timerID;window.addEventListener("resize",function(){clearTimeout(timerID),timerID=setTimeout(function(){onWindowResize()},100)});